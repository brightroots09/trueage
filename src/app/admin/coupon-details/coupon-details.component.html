<div class="row" *ngIf="filtersLoaded | async">
  <div class="col-md-4 mr-auto ml-auto">
    <nb-card accent="primary" class="text-center" *ngIf="couponModel != undefined; else employee_else">
      <nb-card-header>
        Coupon Details
      </nb-card-header>
      <nb-card-body style="flex: inherit !important;" class="text-left">
        <p *ngFor="let coupon of couponModel"><b>{{coupon.key | uppercase}}</b>: {{coupon.data}}</p>
      </nb-card-body>
      <nb-card-body>
        <div class="row">
          <div class="col-md-12">
            <button nbButton outline status="primary" class="mr-2" size="xsmall" *ngIf="!edit" (click)="toggleEdit()">Edit</button>
          </div>
          <!-- <div class="col-md-6">
            <button size="xsmall" *ngIf="!edit" class="mr-2" (click)="deleteEmployee()" nbButton outline status="danger">Delete</button>
          </div> -->
        </div>
      </nb-card-body>
    </nb-card>
  </div>
  <div class="col-md-4 mr-auto ml-auto" *ngIf="edit">
    <nb-card class="text-center" accent="info">
      <nb-card-header>
        Edit Coupon
      </nb-card-header>
      <nb-card-body>
          <form #couponsForm="ngForm" (ngSubmit)="onFormSubmit()" class="mt-3 mb-3">
              <div class="form-group">
                <div class="row">
                  <!-- <div class="col-md-6">
                    <label for="code">Coupon Code: </label>
                    <input type="text" id="code" #code="ngModel" class="form-control" name="code" [(ngModel)]="couponModel[0].data"
                      [class.is-invalid]="code.invalid && code.touched" [class.is-valid]="code.valid && code.touched"
                      required>
                    <small class="text-danger" [class.d-none]="code.valid || code.untouched">Code is required</small>
                  </div> -->
                  <div class="col-md-12">
                    <label for="credits">Credits: </label>
                    <input type="number" id="credits" #credits="ngModel" class="form-control" name="credits" [(ngModel)]="couponModel[2].data"
                      [class.is-invalid]="credits.invalid && credits.touched" [class.is-valid]="credits.valid && credits.touched"
                      required>
                    <small class="text-danger" [class.d-none]="credits.valid || credits.untouched">Credits is required</small>
                  </div>
                  <div class="col-md-12 mt-4">
                    <label for="number">Maximum Users: </label>
                    <input type="number" id="number" #number="ngModel" class="form-control" name="number" [(ngModel)]="couponModel[1].data"
                      [class.is-invalid]="number.invalid && number.touched" [class.is-valid]="number.valid && number.touched"
                      required placeholder="Number of users that can use the code">
                    <small class="text-danger" [class.d-none]="number.valid || number.untouched">Number is required</small>
                  </div>
                </div>
              </div>
              <button type="submit" [disabled]="couponsForm.form.invalid" class="btn btn-outline-primary mr-2">Add</button>
              <button type="button" class="btn btn-outline-secondary" (click)="cancelAdd()">Cancel</button>
            </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>